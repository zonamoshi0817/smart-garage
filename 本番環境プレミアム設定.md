# 本番環境でプレミアムプランを設定する方法

## 方法1: Vercel環境変数で設定（推奨）

Vercelダッシュボードで環境変数を設定します：

1. **Vercelダッシュボードにアクセス**
   - https://vercel.com/dashboard
   - プロジェクトを選択

2. **Settings → Environment Variables に移動**

3. **環境変数を追加**
   - **変数名**: `NEXT_PUBLIC_DEVELOPER_EMAILS`
   - **値**: あなたのメールアドレス（複数の場合はカンマ区切り）
     - 例: `your-email@gmail.com`
     - 複数の場合: `email1@gmail.com,email2@gmail.com`
   - **環境**: `Production`（本番環境のみ）または `Production, Preview, Development`（すべての環境）

4. **保存後、再デプロイ**
   - 環境変数を追加した後、自動的に再デプロイされるか、手動でRedeployを実行

## 方法2: コードに直接追加（一時的）

`src/hooks/usePremium.ts`の`DEVELOPER_EMAILS`配列に直接追加：

```typescript
const DEVELOPER_EMAILS = (
  process.env.NEXT_PUBLIC_DEVELOPER_EMAILS?.split(',').map(e => e.trim()) || [
    'your-email@gmail.com',  // ここに追加
    'kentakobayashi@example.com',
    'kentakobayashi@gmail.com',
  ]
);
```

⚠️ **注意**: この方法はコードに含まれるため、GitHubに公開されます。セキュリティ上、環境変数を使う方法（方法1）を推奨します。

## 動作確認

1. 本番環境にログイン
2. ダッシュボードで「✨ Premium プラン」と表示されることを確認
3. プレミアム機能（複数台登録など）が使用できることを確認

## 現在の設定

現在のコードでは、以下の条件で自動的にプレミアムプランになります：

1. **開発モード**: `NEXT_PUBLIC_DEV_ALL_PREMIUM=true` の場合、全ユーザーがプレミアム
2. **開発者メール**: `NEXT_PUBLIC_DEVELOPER_EMAILS` に含まれるメールアドレス
3. **Stripe購読**: 通常のStripe経由での購読

本番環境では、方法1（Vercel環境変数）を使用することを強く推奨します。

